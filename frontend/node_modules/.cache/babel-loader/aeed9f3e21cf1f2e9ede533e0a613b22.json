{"ast":null,"code":"var _jsxFileName = \"/home/victor/Desktop/react pet project/pet/src/App.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Products, Navbar, Cart } from \"./components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  console.log(cartItems.i);\n\n  const onAdd = product => {\n    const exist = cartItems.find(x => x.id === product.id);\n\n    if (exist) {\n      setCartItems(cartItems.map(x => x.id === product.id ? { ...exist,\n        qty: exist.qty + 1\n      } : x));\n    } else {\n      setCartItems([...cartItems, { ...product,\n        qty: 1\n      }]);\n    }\n  };\n\n  const fetchProducts = async () => {\n    await fetch(\"http://localhost:8080/api/products\").then(response => response.json()).then(receiveData => setProducts(receiveData));\n  }; // const fetchCart =async () => {\n  //     const cart = await fetch(\"http://localhost:8080/api/cart/getProducts?cart_id=\"+localStorage.getItem(\"id\"))\n  //     .then(response=> response.json())\n  //     .then(receiveData => setCart(receiveData))\n  //     .then(receiveData=> console.log(receiveData));\n  // }\n\n\n  useEffect(() => {\n    fetchProducts(); // fetchCart();\n  }, []); // console.log(cart)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Products, {\n      onAdd: onAdd,\n      products: products\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Navbar, {\n      onAdd: onAdd,\n      cart: cartItems\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Cart, {\n      onAdd: onAdd,\n      cartItems: cartItems\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"KP80J3dyJRLVLmaBplLp/Yko+x4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/victor/Desktop/react pet project/pet/src/App.jsx"],"names":["React","useState","useEffect","Products","Navbar","Cart","App","products","setProducts","cartItems","setCartItems","console","log","i","onAdd","product","exist","find","x","id","map","qty","fetchProducts","fetch","then","response","json","receiveData"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,SAASC,QAAT,EAAmBC,MAAnB,EAA2BC,IAA3B,QAAuC,cAAvC;;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAAA;;AAChB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,EAAD,CAA1C;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAYH,SAAS,CAACI,CAAtB;;AACA,QAAMC,KAAK,GAAIC,OAAD,IAAa;AACzB,UAAMC,KAAK,GAAGP,SAAS,CAACQ,IAAV,CAAgBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASJ,OAAO,CAACI,EAAvC,CAAd;;AACA,QAAIH,KAAJ,EAAW;AACTN,MAAAA,YAAY,CACVD,SAAS,CAACW,GAAV,CAAeF,CAAD,IACZA,CAAC,CAACC,EAAF,KAASJ,OAAO,CAACI,EAAjB,GAAsB,EAAE,GAAGH,KAAL;AAAYK,QAAAA,GAAG,EAAEL,KAAK,CAACK,GAAN,GAAY;AAA7B,OAAtB,GAAyDH,CAD3D,CADU,CAAZ;AAKD,KAND,MAMO;AACLR,MAAAA,YAAY,CAAC,CAAC,GAAGD,SAAJ,EAAe,EAAE,GAAGM,OAAL;AAAcM,QAAAA,GAAG,EAAE;AAAnB,OAAf,CAAD,CAAZ;AACD;AACF,GAXD;;AAaA,QAAMC,aAAa,GAAG,YAAY;AAChC,UAAMC,KAAK,CAAC,oCAAD,CAAL,CACHC,IADG,CACGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADhB,EAEHF,IAFG,CAEGG,WAAD,IAAiBnB,WAAW,CAACmB,WAAD,CAF9B,CAAN;AAGD,GAJD,CAjBgB,CAsBhB;AACA;AACA;AACA;AACA;AAEA;;;AAEAzB,EAAAA,SAAS,CAAC,MAAM;AACdoB,IAAAA,aAAa,GADC,CAEd;AACD,GAHQ,EAGN,EAHM,CAAT,CA9BgB,CAmChB;;AAEA,sBACE;AAAA,4BACE,QAAC,QAAD;AAAU,MAAA,KAAK,EAAER,KAAjB;AAAwB,MAAA,QAAQ,EAAEP;AAAlC;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,MAAD;AAAQ,MAAA,KAAK,EAAEO,KAAf;AAAsB,MAAA,IAAI,EAAEL;AAA5B;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,IAAD;AAAM,MAAA,KAAK,EAAEK,KAAb;AAAoB,MAAA,SAAS,EAAEL;AAA/B;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,CA5CD;;GAAMH,G;;KAAAA,G;AA8CN,eAAeA,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport { Products, Navbar, Cart } from \"./components\";\n\nconst App = () => {\n  const [products, setProducts] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  console.log(cartItems.i)\n  const onAdd = (product) => {\n    const exist = cartItems.find((x) => x.id === product.id);\n    if (exist) {\n      setCartItems(\n        cartItems.map((x) =>\n          x.id === product.id ? { ...exist, qty: exist.qty + 1 } : x\n        )\n      );\n    } else {\n      setCartItems([...cartItems, { ...product, qty: 1 }]);\n    }\n  };\n\n  const fetchProducts = async () => {\n    await fetch(\"http://localhost:8080/api/products\")\n      .then((response) => response.json())\n      .then((receiveData) => setProducts(receiveData));\n  };\n  // const fetchCart =async () => {\n  //     const cart = await fetch(\"http://localhost:8080/api/cart/getProducts?cart_id=\"+localStorage.getItem(\"id\"))\n  //     .then(response=> response.json())\n  //     .then(receiveData => setCart(receiveData))\n  //     .then(receiveData=> console.log(receiveData));\n\n  // }\n\n  useEffect(() => {\n    fetchProducts();\n    // fetchCart();\n  }, []);\n\n  // console.log(cart)\n\n  return (\n    <div>\n      <Products onAdd={onAdd} products={products} />\n      <Navbar onAdd={onAdd} cart={cartItems} />\n      <Cart onAdd={onAdd} cartItems={cartItems} />\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}